const header=document.querySelector(".header"),burger=document.querySelector(".burger"),menu=document.querySelector(".header__menu"),menuList=menu.querySelector(".menu"),menuItemWithSubmenu=document.querySelectorAll(".has-children"),desktopBreakpoint=1e3;let isMobile=null;function addButtonComeback(){document.querySelectorAll(".menu__submenu").forEach(e=>{e.insertAdjacentHTML("afterbegin",'<button type="button" class="menu__comeback delete-btn-style">Назад</button>')}),menu.querySelectorAll(".menu__comeback").forEach(e=>{e.addEventListener("click",()=>{menuList.classList.remove("show-submenu"),e.closest(".has-children").classList.remove("open")})})}function setSubmenuPosition(){document.querySelectorAll(".menu__submenu").forEach(e=>{const t=menuList.offsetTop,n=e.parentElement.offsetTop-t;e.style.top=`-${n}px`})}function resetSubmenuPosition(){document.querySelectorAll(".menu__submenu").forEach(e=>{e.style.top=""})}function openSubmenu(e){document.querySelectorAll(e).forEach(e=>{e.addEventListener("click",()=>{if(e.parentElement.classList.toggle("open"),isMobile){const t=e.closest(".menu");t&&t.classList.toggle("show-submenu")}})})}function closeMenu(){menu.classList.remove("open")}function closeSubMenu(){const e=menu.querySelectorAll(".open");for(let t=0;t<e.length;t++)e[t].classList.remove("open")}function fixHeaderHeight(){header.nextElementSibling.style.paddingTop=header.clientHeight+"px"}function isApple(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}if(menuItemWithSubmenu.forEach(e=>{e.classList.add("has-arrow"),"arrow"!==e.lastElementChild.className&&e.insertAdjacentHTML("beforeend",'<button class="menu__btn arrow delete-btn-style" type="bytton"></button>')}),burger.addEventListener("click",()=>{document.querySelector("html").classList.toggle("scrollOff"),burger.classList.toggle("open"),menu.classList.toggle("open"),closeSubMenu()}),window.addEventListener("load",()=>{isMobile=window.matchMedia("(max-width: 1000px)").matches,fixHeaderHeight(),addButtonComeback(),openSubmenu(".arrow"),openSubmenu(".search__btn"),isMobile&&setSubmenuPosition()}),window.addEventListener("resize",()=>{isMobile=window.matchMedia("(max-width: 1000px)").matches,isMobile?setSubmenuPosition():(closeMenu(),resetSubmenuPosition()),fixHeaderHeight()}),window.addEventListener("load",()=>{isApple()&&document.querySelector("html").classList.add("ios")}),document.querySelector(".seo")){const e="Свернуть",t="Подробнее",n=document.querySelector(".seo__text"),o=Number.parseInt(n.style.getPropertyValue("--height"));if(n.scrollHeight>o){n.parentElement.insertAdjacentHTML("beforeend",'<button type="button" class="seo__btn btn"></button>');const s=document.querySelector(".seo__btn"),u=document.querySelector(".seo__text").scrollHeight;n.classList.add("less"),s.textContent=t,s.addEventListener("click",()=>{n.classList.toggle("less"),n.classList.contains("less")?(s.textContent=t,n.style.maxHeight=o+"px"):(s.textContent=e,n.style.maxHeight=u+"px")})}}